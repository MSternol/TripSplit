@using Microsoft.AspNetCore.Authentication
@model (IList<AuthenticationScheme> Providers, string? ReturnUrl)

@if ((Model.Providers?.Count ?? 0) > 0)
{
    <div class="auth-separator" role="separator" aria-label="lub"><span>lub</span></div>

    <form id="external-account"
          method="post"
          asp-area="Identity"
          asp-page="/Account/ExternalLogin"
          asp-route-returnUrl="@Model.ReturnUrl"
          class="social-form">
        @Html.AntiForgeryToken()

        <div class="social-buttons icons-only">
            @foreach (var p in Model.Providers!)
            {
                var display = p.DisplayName ?? p.Name;
                var name = (p.Name ?? "").ToLowerInvariant();
                var brandClass = name switch
                {
                    "google" => "btn--google",
                    "facebook" => "btn--facebook",
                    "microsoft" => "btn--microsoft",
                    _ => "btn--soft"
                };

                <button type="submit"
                        class="btn btn--social @brandClass"
                        name="provider"
                        value="@p.Name"
                        title="Zaloguj przez @display"
                        aria-label="Zaloguj przez @display"
                        data-provider="@name">
                    <span class="btn__icon" aria-hidden="true">
                        @* Ikony *@
                        @if (name == "google")
                        {
                            <svg width="20" height="20" viewBox="0 0 48 48"><path fill="#FFC107" d="M43.6 20.5H42V20H24v8h11.3C33.7 32.7 29.2 36 24 36c-6.6 0-12-5.4-12-12S17.4 12 24 12c3 0 5.7 1.1 7.8 3l5.7-5.7C33.6 5.7 29.1 4 24 4 12.9 4 4 12.9 4 24s8.9 20 20 20c10.3 0 19-7.5 19-20 0-1.2-.1-2.3-.4-3.5z" /><path fill="#FF3D00" d="M6.3 14.7l6.6 4.8C14.6 16.2 18.9 12 24 12c3 0 5.7 1.1 7.8 3l5.7-5.7C33.6 5.7 29.1 4 24 4 16 4 9.1 8.6 6.3 14.7z" /><path fill="#4CAF50" d="M24 44c5.1 0 9.6-1.7 13-4.6l-6-4.9c-2.1 1.6-4.8 2.5-7 2.5-5.2 0-9.6-3.3-11.2-7.9l-6.5 5C9.1 39.4 16 44 24 44z" /><path fill="#1976D2" d="M43.6 20.5H42V20H24v8h11.3c-1.3 3.7-5.8 8-11.3 8-6.6 0-12-5.4-12-12S17.4 12 24 12c3 0 5.7 1.1 7.8 3l5.7-5.7C33.6 5.7 29.1 4 24 4 12.9 4 4 12.9 4 24s8.9 20 20 20c10.3 0 19-7.5 19-20 0-1.2-.1-2.3-.4-3.5z" /></svg>
                        }
                        else if (name == "facebook")
                        {
                            <svg width="20" height="20" viewBox="0 0 24 24"><path d="M22 12.06C22 6.48 17.52 2 11.94 2S2 6.48 2 12.06c0 5 3.66 9.16 8.44 9.94v-7.03H7.9V12.1h2.54V9.98c0-2.51 1.49-3.89 3.77-3.89 1.09 0 2.23.19 2.23.19v2.45h-1.26c-1.24 0-1.63.77-1.63 1.56v1.88h2.78l-.44 2.87h-2.34V22c4.78-.78 8.44-4.94 8.44-9.94z" fill="#fff" /></svg>
                        }
                        else if (name == "microsoft")
                        {
                            <svg width="20" height="20" viewBox="0 0 23 23"><path fill="#F25022" d="M1 1h10v10H1z" /><path fill="#7FBA00" d="M12 1h10v10H12z" /><path fill="#00A4EF" d="M1 12h10v10H1z" /><path fill="#FFB900" d="M12 12h10v10H12z" /></svg>
                        }
                    </span>
                    <span class="btn__label">Zaloguj przez @display</span>
                </button>
            }
        </div>
    </form>
}